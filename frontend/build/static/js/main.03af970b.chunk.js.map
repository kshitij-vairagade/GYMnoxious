{"version":3,"sources":["config.js","auth/index.js","core/Menu.js","core/cardHelper.js","core/Layout.js","user/Signin.js","user/Signup.js","core/apiCore.js","core/ShowImage.js","core/Card.js","core/Search.js","core/Home.js","core/Checkbox.js","core/fixedPrices.js","core/Radiobox.js","core/Shop.js","auth/AdminRoute.js","auth/PrivateRoute.js","user/UserDashboard.js","user/apiUser.js","user/AdminDashboard.js","admin/AddCategory.js","admin/apiAdmin.js","admin/AddService.js","core/Service.js","core/Checkout.js","core/Cart.js","user/Profile.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","isActive","history","path","location","pathname","color","withRouter","className","to","style","length","user","role","cursor","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Layout","title","description","children","Signin","useState","email","password","error","loading","redirectToReferrer","values","setValues","handleChange","name","event","target","value","clickSubmit","preventDefault","headers","Accept","body","stringify","json","data","setItem","authenticate","display","onChange","type","redirectUser","Signup","success","getServices","sortBy","getCategories","getFilteredServices","skip","limit","filters","ShowImage","item","url","src","_id","alt","maxHeight","maxWidth","Card","quantity","service","showViewServiceButton","showAddToCartButton","cartUpdate","showRemoveServiceButton","setRun","f","run","undefined","redirect","setRedirect","count","setCount","addToCart","cart","Array","from","Set","map","p","id","find","addItem","serviceId","i","updateItem","shouldRedirect","fees","city","category","moment","createdAt","fromNow","showViewButton","showAddToCartBtn","showRemoveButton","splice","showCartUpdateOptions","Search","categories","search","results","searched","setData","useEffect","searchData","params","query","queryString","list","searchSubmit","e","searchMessage","onSubmit","c","placeholder","border","searchedProducts","Home","servicesBySell","setServicesBySell","servicesByArrival","setServicesByArrival","setError","Checkbox","handleFilters","checked","setChecked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","array","RadioBox","setValue","Shop","myFilters","setMyFilters","setCategories","setSkip","size","setSize","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","key","parseInt","AdminRoute","Component","component","rest","render","props","state","PrivateRoute","Dashboard","setHistory","token","init","userId","Authorization","getPurchaseHistory","h","services","price","purchaseHistory","AdminDashboard","AddCategory","setName","setSuccess","createCategory","showSuccess","showError","autoFocus","required","AddService","sold","photo","createdService","redirectToProfile","formData","FormData","files","set","createService","accept","Service","setService","relatedService","setRelatedService","loadSingleService","read","listRelated","match","substring","Checkout","clientToken","instance","address","getToken","getBraintreeClientToken","handleAddress","getTotal","reduce","currentValue","nextValue","deliveryAddress","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","message","showDropIn","onBlur","options","authorization","paypal","flow","onInstance","Cart","items","setItems","showItems","Profile","update","alert","auth","updateUser","profileUpdate","Routes","exact","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.03af970b.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL","import { API } from '../config';\r\n\r\nexport const signup = user => {\r\n    // console.log(name,email,password)\r\n   return fetch(`${API}/signup`, {\r\n        method: \"POST\",\r\n        headers:{\r\n            Accept:'application/json',\r\n            \"Content-Type\":\"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err=> {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\n\r\nexport const signin = user => {\r\n    // console.log(name,email,password)\r\n   return fetch(`${API}/signin`, {\r\n        method: \"POST\",\r\n        headers:{\r\n            Accept:'application/json',\r\n            \"Content-Type\":\"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err=> {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nexport const authenticate = (data, next) => {\r\n    if(typeof window !== 'undefined'){\r\n        localStorage.setItem('jwt', JSON.stringify(data))\r\n        next()\r\n    }\r\n};\r\n\r\nexport const signout = (next) => {\r\n    if(typeof window !== 'undefined'){\r\n        localStorage.removeItem('jwt');\r\n        next();\r\n    return fetch(`${API}/signout`, {\r\n        method:\"GET\"})\r\n            .then(response => {\r\n                console.log(\"signout\", response);\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n}\r\n\r\n\r\nexport const isAuthenticated = () => {\r\n    if(typeof window == \"undefined\"){\r\n        return false\r\n    }\r\n    if(localStorage.getItem('jwt')){\r\n        return JSON.parse(localStorage.getItem('jwt'))\r\n    }else{\r\n        return false;\r\n    }\r\n}","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from \"../auth\";\r\nimport { itemTotal } from \"./cardHelper\";\r\n\r\nconst isActive = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: \"#ff9900\" };\r\n  } else {\r\n    return { color: \"#ffffff\" };\r\n  }\r\n};\r\n\r\nconst Menu = ({ history }) =>  (\r\n    <div>\r\n      <ul className=\"nav nav-tabs bg-secondary\">\r\n        <li className=\"nav-item\">\r\n          <Link className=\"nav-link\" to=\"/\" style={isActive(history, \"/\")}>\r\n            Home\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            className=\"nav-link\"\r\n            to=\"/shop\"\r\n            style={isActive(history, \"/shop\")}\r\n          >\r\n            Gyms\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            className=\"nav-link\"\r\n            to=\"/cart\"\r\n            style={isActive(history, \"/cart\")}\r\n          >\r\n            Cart{\" \"}\r\n            <sup>\r\n              <small className=\"cart-badge\">{itemTotal()}</small>\r\n            </sup>\r\n          </Link>\r\n        </li>\r\n\r\n        {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              className=\"nav-link\"\r\n              style={isActive(history, \"/user/dashboard\")}\r\n              to=\"/user/dashboard\"\r\n            >\r\n              Dashboard\r\n            </Link>\r\n          </li>\r\n        )}\r\n\r\n        {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              className=\"nav-link\"\r\n              style={isActive(history, \"/admin/dashboard\")}\r\n              to=\"/admin/dashboard\"\r\n            >\r\n              Dashboard\r\n            </Link>\r\n          </li>\r\n        )}\r\n\r\n  {!isAuthenticated() && (\r\n          <Fragment>\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                className=\"nav-link\"\r\n                style={isActive(history, \"/signin\")}\r\n                to=\"/signin\"\r\n              >\r\n                Signin\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                className=\"nav-link\"\r\n                style={isActive(history, \"/signup\")}\r\n                to=\"/signup\"\r\n              >\r\n                Signup\r\n              </Link>\r\n            </li>\r\n          </Fragment>\r\n        )}\r\n        {isAuthenticated() && (\r\n          <li className=\"nav-item\">\r\n            <span\r\n              className=\"nav-link\"\r\n              style={{ cursor: \"pointer\", color: \"#ffffff\" }}\r\n              onClick={() =>\r\n                signout(() => {\r\n                  history.push(\"/\");\r\n                })\r\n              }\r\n            >\r\n              Signout\r\n            </span>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n\r\n\r\nexport default withRouter(Menu);\r\n","export const addItem = (item = [], count = 0, next = (f) => f) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.push({\r\n      ...item,\r\n      count: 1,\r\n    });\r\n\r\n    cart = Array.from(new Set(cart.map((p) => p._id))).map((id) => {\r\n      return cart.find((p) => p._id === id);\r\n    });\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const itemTotal = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\")).length;\r\n    }\r\n  }\r\n  return 0;\r\n};\r\n\r\nexport const getCart = () => {\r\n    if (typeof window !== \"undefined\") {\r\n      if (localStorage.getItem(\"cart\")) {\r\n        return JSON.parse(localStorage.getItem(\"cart\"));\r\n      }\r\n    }\r\n    return [];\r\n  };\r\n\r\nexport const updateItem = (serviceId, count) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    cart.map((service, i) => {\r\n      if (service._id === serviceId) {\r\n        cart[i].count = count;\r\n      }\r\n    });\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n};\r\n\r\nexport const removeItem = (serviceId) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    cart.map((service, i) => {\r\n      if (service._id === serviceId) {\r\n        cart.splice(i, 1);\r\n      }\r\n    });\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n  return cart;\r\n};\r\n\r\nexport const emptyCart = next => {\r\n  if (typeof window !== 'undefined') {\r\n      localStorage.removeItem('cart');\r\n      next();\r\n  }\r\n};","import React from \"react\";\r\nimport Menu from \"./Menu\";\r\nimport \"../styles.css\";\r\n\r\nconst Layout = ({\r\n  title = \"Title\",\r\n  description = \"Description\",\r\n  className,\r\n  children,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Menu />\r\n      <div className=\"bg-dark p-5 rounded-lg title\">\r\n        <h2>{title}</h2>\r\n        <p className=\"lead\">{description}</p>\r\n      </div>\r\n      <div className={className}>{children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import React,{useState} from 'react';\r\nimport Layout from '../core/Layout';\r\nimport {Redirect} from 'react-router-dom'\r\nimport {signin} from '../auth/index'\r\nimport {authenticate} from '../auth/index'\r\n\r\nconst Signin = () => {\r\n    const [values, setValues] = useState({\r\n            email: \"test@gmail.com\",\r\n            password: \"test@123\",\r\n            error: \"\",\r\n            loading: false,\r\n            redirectToReferrer: false,\r\n    });\r\n\r\n    const {email, password, loading, error, redirectToReferrer} = values\r\n\r\n    const handleChange = name => event => {\r\n        setValues({...values, error:false, [name]: event.target.value})\r\n    }\r\n\r\n    const clickSubmit = event=> {\r\n        event.preventDefault()\r\n        setValues({...values,error:false, loading:true})\r\n        signin({email,password})\r\n            .then(data => {\r\n                if(data.error){\r\n                    setValues({...values, error:data.error, loading:false})\r\n                }else{\r\n                    authenticate(\r\n                        data, () => {\r\n                            setValues({\r\n                                ...values,\r\n                                redirectToReferrer:true\r\n                            })\r\n                        }\r\n                    )\r\n                }\r\n            })\r\n    }\r\n\r\n    const signUpForm = () => (\r\n\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input \r\n                onChange={handleChange('email')}\r\n                 type=\"email\" \r\n                 className=\"form-control\"\r\n                 value={email}\r\n                 />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Pssword</label>\r\n                <input \r\n                onChange={handleChange('password')} \r\n                type=\"password\" \r\n                className=\"form-control\"\r\n                value={password}\r\n                />\r\n            </div>\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\r\n        \r\n        </form>\r\n        \r\n    );\r\n    \r\n    const showError =()=> (\r\n        <div className=\"alert alert-danger\" style={{display: error ? \" \": 'none' }}>\r\n            {error}\r\n        </div>\r\n    )\r\n\r\n    const showLoading =()=> (\r\n       loading && (<div className=\"alert alert-info\"><h2>Loading...</h2></div>)\r\n    )\r\n\r\n    const redirectUser= () => {\r\n        if(redirectToReferrer){\r\n            return <Redirect to=\"/\" />\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Layout \r\n        title=\"Signin\" \r\n        description=\"Signin to Gymnosious\"\r\n        className=\"conatiner col-md-8 offset-md-2\">\r\n        {showLoading()}\r\n        {showError()}\r\n        {signUpForm()}\r\n        {redirectUser()}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Signin;","import React,{useState} from 'react';\r\nimport Layout from '../core/Layout';\r\nimport {Link} from 'react-router-dom'\r\nimport {signup} from '../auth/index'\r\n\r\nconst Signup = () => {\r\n    const [values, setValues] = useState({\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            success: \"\",\r\n    });\r\n\r\n    const {name, email, password, success, error} = values\r\n\r\n    const handleChange = name => event => {\r\n        setValues({...values, error:false, [name]: event.target.value})\r\n    }\r\n\r\n    const clickSubmit = event=> {\r\n        event.preventDefault()\r\n        setValues({...values,error:false})\r\n        signup({name,email,password})\r\n            .then(data => {\r\n                if(data.error){\r\n                    setValues({...values, error:data.error, success:false})\r\n                }else{\r\n                    setValues({\r\n                        ...values,\r\n                        name:\"\",\r\n                        email:\"\",\r\n                        password:\"\",\r\n                        error:\"\",\r\n                        success:true\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    const signUpForm = () => (\r\n\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input \r\n                onChange={handleChange('name')} \r\n                type=\"text\" \r\n                className=\"form-control\"\r\n                value={name}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input \r\n                onChange={handleChange('email')}\r\n                 type=\"email\" \r\n                 className=\"form-control\"\r\n                 value={email}\r\n                 />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input \r\n                onChange={handleChange('password')} \r\n                type=\"password\" \r\n                className=\"form-control\"\r\n                value={password}\r\n                />\r\n            </div>\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\r\n        \r\n        </form>\r\n        \r\n    );\r\n    \r\n    const showError =()=> (\r\n        <div className=\"alert alert-danger\" style={{display: error ? \" \": 'none' }}>\r\n            {error}\r\n        </div>\r\n    )\r\n\r\n    const showSuccess =()=> (\r\n        <div className=\"alert alert-success\" style={{display: success ? \" \": 'none' }}>\r\n           New account is created. Please <Link to=\"/signin\">Signin</Link>\r\n        </div>\r\n    )\r\n\r\n\r\n    return (\r\n        <Layout \r\n        title=\"Sign up\" \r\n        description=\"Signup to Gymnosious\"\r\n        className=\"conatiner col-md-8 offset-md-2\">\r\n        {showSuccess()}\r\n        {showError()}\r\n        {signUpForm()}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Signup;","import { API } from \"../config\";\r\nimport  queryString from 'query-string'\r\n\r\n\r\nexport const getServices = sortBy => {\r\n  return fetch(`${API}/services?sortBy=${sortBy}&order=desc&limit=6`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n\r\nexport const getFilteredServices = (skip, limit, filters = {}) => {\r\n  const data = {\r\n    limit,\r\n    skip,\r\n    filters,\r\n  };\r\n\r\n  return fetch(`${API}/services/by/search`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(data),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n\r\nexport const read = serviceId => {\r\n  return fetch(`${API}/service/${serviceId}`, {\r\n      method: \"GET\"\r\n  })\r\n      .then(response => {\r\n          return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n};\r\n\r\n\r\nexport const listRelated = serviceId => {\r\n  return fetch(`${API}/services/related/${serviceId}`, {\r\n      method: \"GET\"\r\n  })\r\n      .then(response => {\r\n          return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n};\r\n\r\nexport const list = params => {\r\n  const query =  queryString.stringify(params);\r\n  console.log(query)\r\n\r\n return fetch(`${API}/services/search?${query}`, {\r\n     method:\"GET\"\r\n })\r\n .then(response => {\r\n     return response.json();\r\n })\r\n .catch(err => console.log(err));\r\n};\r\n\r\nexport const getBraintreeClientToken = (userId, token) => {\r\n  return fetch(`${API}/braintree/getToken/${userId}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`\r\n      }\r\n  })\r\n      .then(response => {\r\n          return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n  return fetch(`${API}/braintree/payment/${userId}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(paymentData)\r\n  })\r\n      .then(response => {\r\n          return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n};\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n  return fetch(`${API}/order/create/${userId}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({ order: createOrderData })\r\n  })\r\n      .then(response => {\r\n          return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n};","import React from \"react\";\r\nimport { API } from \"../config\";\r\n\r\nconst ShowImage = ({ item, url }) => (\r\n  <div className=\"product-img\">\r\n    <img\r\n      src={`${API}/${url}/photo/${item._id}`}\r\n      alt={item.name}\r\n      className=\"mb-3\"\r\n      style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default ShowImage;\r\n","import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { addItem, updateItem, removeItem } from \"./cardHelper\";\r\nimport moment from \"moment\";\r\nimport ShowImage from \"./ShowImage\";\r\n\r\nconst Card = ({\r\n  service,\r\n  showViewServiceButton = true,\r\n  showAddToCartButton = true,\r\n  cartUpdate = false,\r\n  showRemoveServiceButton = false,\r\n  setRun = (f) => f,\r\n  run = undefined,\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [count, setCount] = useState(service.count);\r\n\r\n  const showViewButton = (showViewServiceButton) => {\r\n    return (\r\n      showViewServiceButton && (\r\n        <Link to={`/service/${service._id}`} className=\"mr-2\">\r\n          <button className=\"btn btn-outline-primary mt-2 mb-2 mr-2 card-btn-1\">\r\n            View Services\r\n          </button>\r\n        </Link>\r\n      )\r\n    );\r\n  };\r\n\r\n  const addToCart = () => {\r\n    addItem(service, setRedirect(true));\r\n  };\r\n\r\n  const shouldRedirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const showAddToCartBtn = (showAddToCartButton) => {\r\n    return (\r\n      showAddToCartButton && (\r\n        <button\r\n          onClick={addToCart}\r\n          className=\"btn btn-outline-warning mt-2 mb-2 card-btn-1\"\r\n        >\r\n          Add to Checkout cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showStock = (quantity) => {\r\n    return quantity > 0 ? (\r\n      <span className=\"badge badge-primarly badge-pill\">In Stock</span>\r\n    ) : (\r\n      <span className=\"badge badge-primarly badge-pill\">Out of Stock</span>\r\n    );\r\n  };\r\n\r\n  const handleChange = (serviceId) => (event) => {\r\n    setRun(!run);\r\n    setCount(event.target.value < 1 ? 1 : event.target.value);\r\n    if (event.target.value >= 1) {\r\n      updateItem(serviceId, event.target.value);\r\n    }\r\n  };\r\n\r\n  const showCartUpdateOptions = (cartUpdate) => {\r\n    return (\r\n      cartUpdate && (\r\n        <div>\r\n          <div className=\"input-group md-3\">\r\n            <div className=\"input-group-prepend\">\r\n              <span className=\"input-group-text\">Adjust Quantity</span>\r\n            </div>\r\n            <input type=\"number\" className=\"form-control\" value={count} onChange={handleChange(service._id)} />\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showRemoveButton = (showRemoveServiceButton) => {\r\n    return (\r\n      showRemoveButton && (\r\n        <button\r\n          onClick={() => {\r\n            removeItem(service._id);\r\n            setRun(!run);\r\n          }}\r\n          className=\"btn btn-outline-danger mt-2 mb-2\"\r\n        >\r\n          Remove Service\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header card-header-1\">{service.name}</div>\r\n      <div className=\"card-body\">\r\n        {shouldRedirect(redirect)}\r\n        <ShowImage item={service} url=\"service\" />\r\n        <p className=\"card-p  mt-2\">{service.description} </p>\r\n        <p className=\"card-p black-10\">₹ {service.fees}</p>\r\n        <p className=\"card-p black-10\">{service.city}</p>\r\n        <p className=\"black-9\">\r\n          Category: {service.category && service.category.name}\r\n        </p>\r\n        <p className=\"black-8\">\r\n          Added {moment(service.createdAt).fromNow()}\r\n        </p>\r\n        {showStock(service.quantity)}\r\n        <br />\r\n        {showViewButton(showViewServiceButton)}\r\n        {showAddToCartBtn(showAddToCartButton)}\r\n        {showRemoveButton(showRemoveServiceButton)}\r\n        {showCartUpdateOptions(cartUpdate)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getCategories, list } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\n\r\nconst Search = () => {\r\n    const [data, setData] = useState({\r\n        categories: [],\r\n        category: \"\",\r\n        search: \"\",\r\n        results: [],\r\n        searched: false\r\n    });\r\n\r\n    const { categories, category, search, results, searched } = data;\r\n\r\n    const loadCategories = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setData({ ...data, categories: data });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadCategories();\r\n    }, []);\r\n\r\n    const searchData = () => {\r\n        // console.log(search, category);\r\n        if (search) {\r\n            list({ search: search || undefined, category: category }).then(\r\n                response => {\r\n                    if (response.error) {\r\n                        console.log(response.error);\r\n                    } else {\r\n                        setData({ ...data, results: response, searched: true });\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    const searchSubmit = e => {\r\n        e.preventDefault();\r\n        searchData();\r\n    };\r\n\r\n    const handleChange = name => event => {\r\n        setData({ ...data, [name]: event.target.value, searched: false });\r\n    };\r\n\r\n    const searchMessage = (searched, results) => {\r\n        if (searched && results.length > 0) {\r\n            return `Found ${results.length} services`;\r\n        }\r\n        if (searched && results.length < 1) {\r\n            return `No services found`;\r\n        }\r\n    };\r\n\r\n    const searchedProducts = (results = []) => {\r\n        return (\r\n            <div>\r\n                <h2 className=\"mt-4 mb-4\">\r\n                    {searchMessage(searched, results)}\r\n                </h2>\r\n\r\n                <div className=\"row\">\r\n                    {results.map((service, i) => (\r\n                        <div key={i} className=\"col-4 mb-3\">\r\n                            <Card key={i} service={service} />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const searchForm = () => (\r\n        <form onSubmit={searchSubmit}>\r\n            <span className=\"input-group-text\">\r\n                <div className=\"input-group input-group-lg\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <select\r\n                            className=\"btn mr-2\"\r\n                            onChange={handleChange(\"category\")}\r\n                        >\r\n                            <option value=\"All\">All</option>\r\n                            {categories.map((c, i) => (\r\n                                <option key={i} value={c._id}>\r\n                                    {c.name}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <input\r\n                        type=\"search\"\r\n                        className=\"form-control\"\r\n                        onChange={handleChange(\"search\")}\r\n                        placeholder=\"Search by name\"\r\n                    />\r\n                </div>\r\n                <div\r\n                    className=\"btn input-group-append\"\r\n                    style={{ border: \"none\" }}\r\n                >\r\n                    <button className=\"input-group-text\">Search</button>\r\n                </div>\r\n            </span>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"container mb-3\">{searchForm()}</div>\r\n            <div className=\"container-fluid mb-3\">\r\n                {searchedProducts(results)}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Search;","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport {getServices} from \"./apiCore\";\r\nimport Card from \"./Card\";\r\nimport Search from \"./Search\"\r\n\r\nconst Home = () => {\r\n  const [servicesBySell, setServicesBySell] = useState([]);\r\n  const [servicesByArrival, setServicesByArrival] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadServicesBySell = () => {\r\n    getServices(\"sold\").then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setServicesBySell(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadServicesByArrival = () => {\r\n    getServices(\"createdAt\").then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setServicesByArrival([...data]);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadServicesByArrival();\r\n    loadServicesBySell();\r\n  }, []);\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Welcome to GYMnoxious\"\r\n      display=\"center\"\r\n      description=\"If you want to be a hit in life, you gotta be fit and fine\"\r\n      className=\"container-fluid\"\r\n    >\r\n      <Search />\r\n      <h2 className=\"mb-4\">New Gyms</h2>\r\n            <div className=\"row\">\r\n                {servicesByArrival.map((service, i) => (\r\n                    <div key={i} className=\"col-4 mb-3\">\r\n                        <Card service={service} />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            <h2 className=\"mb-4\">Best Gyms</h2>\r\n            <div className=\"row\">\r\n                {servicesBySell.map((service, i) => (\r\n                    <div key={i} className=\"col-4 mb-3\">\r\n                        <Card service={service} />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, {useState } from 'react';\r\n\r\n\r\nconst Checkbox = ({categories, handleFilters}) => {\r\n\r\n    const [checked, setChecked] = useState([]);\r\n\r\n    const handleToggle = c => () => {\r\n        //return the first index or -1\r\n        const currentCategoryId = checked.indexOf(c);\r\n        const newCheckedCategoryId = [...checked]\r\n        // if currently checked was not already in checked state > push\r\n        // else pull/take off\r\n        if(currentCategoryId === -1){\r\n            newCheckedCategoryId.push(c);\r\n        }else{\r\n            newCheckedCategoryId.splice(currentCategoryId, 1)\r\n        }\r\n        // console.log(newCheckedCategoryId)\r\n        setChecked(newCheckedCategoryId);\r\n        handleFilters(newCheckedCategoryId)\r\n    }\r\n\r\n\r\n    return categories.map((c, i)=> (\r\n        <li key={i} className=\"list-unstyled\">\r\n            <input \r\n            onChange={handleToggle(c._id)} \r\n            value={checked.indexOf(c._id === -1)} \r\n            type=\"checkbox\" \r\n            className=\"form-check-input\"\r\n            />\r\n            <label className= \"form-check-label\">{c.name}</label>\r\n        </li>\r\n    ))\r\n};\r\n\r\nexport default Checkbox;","export const fees = [\r\n    {\r\n        _id:0,\r\n        name:\"Any\",\r\n        array: []\r\n    },\r\n    {\r\n        _id:1,\r\n        name:\"Rs.1000 to Rs.5000\",\r\n        array: [0, 4999]\r\n    }, \r\n    {\r\n        _id:2,\r\n        name:\"Rs.5000 to Rs.10000\",\r\n        array: [5000, 10000]\r\n    },\r\n    {\r\n        _id:3,\r\n        name:\"Rs.10000 to Rs.15000\",\r\n        array: [10001, 15000]\r\n    },\r\n    {\r\n        _id:4,\r\n        name:\"Rs.15000 to Rs.20000\",\r\n        array: [15001, 20000]\r\n    },\r\n    {\r\n        _id:5,\r\n        name:\"More than Rs.20000\",\r\n        array: [20001, 1000000]\r\n    },\r\n];","import React, {useState} from 'react';\r\n\r\n\r\nconst RadioBox = ({fees, handleFilters}) => {\r\n    const [value, setValue] = useState(0)\r\n\r\n\r\n    const handleChange = (event) => {\r\n        handleFilters(event.target.value)\r\n        setValue(event.target.value);\r\n    };\r\n\r\n\r\n    return fees.map((p, i)=> (\r\n        <div key={i}>\r\n            <input \r\n            onChange={handleChange} \r\n            value={`${p._id}`} \r\n            name={p}\r\n            type=\"radio\" \r\n            className=\"mr-2 ml-4\"\r\n            />\r\n            <label className= \"form-check-label\">{p.name}</label>\r\n        </div>\r\n    ))\r\n\r\n};\r\n\r\nexport default RadioBox;","import React, {useState, useEffect } from 'react';\r\nimport Layout from \"./Layout\";\r\nimport Card from \"./Card\";\r\nimport {getCategories, getFilteredServices} from './apiCore'\r\nimport Checkbox from './Checkbox'\r\nimport {fees} from './fixedPrices'\r\nimport RadioBox from './Radiobox'\r\n\r\n\r\nconst Shop = () => {\r\n    const [myFilters, setMyFilters] = useState({\r\n        filters: { category: [], fees: []}\r\n    })\r\n    const [categories, setCategories] = useState([]);\r\n    const [error, setError] = useState(false);\r\n    const [limit, setLimit] = useState(6);\r\n    const [skip, setSkip] = useState(0);\r\n    const [size, setSize] = useState(0);\r\n    const [filteredResults, setFilteredResults] = useState([]);\r\n\r\n    const init = () => {\r\n        getCategories().then(data=> {\r\n            if(data.error){\r\n                setError(data.error)\r\n            }else{\r\n                setCategories(data)\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadFilteredResults = newFilters => {\r\n        // console.log(newFilters)\r\n        getFilteredServices(skip, limit, newFilters).then(data => {\r\n            if(data.error){\r\n                setError(data.error)\r\n            }else{\r\n                setFilteredResults(data.data)\r\n                setSize(data.size)\r\n                setSkip(0);\r\n            }\r\n        });\r\n    };\r\n    \r\n    const loadMore = () => {\r\n        let toSkip = skip + limit;\r\n\r\n        getFilteredServices(toSkip, limit, myFilters.filters).then(data => {\r\n            if(data.error){\r\n                setError(data.error)\r\n            }else{\r\n                setFilteredResults([...filteredResults,...data.data]);\r\n                setSize(data.size)\r\n                setSkip(toSkip)\r\n            }\r\n        })\r\n    };\r\n\r\n    const loadMoreButton = () => {\r\n        return (\r\n            size > 0 && size >= limit && (\r\n                <button onClick={loadMore} className=\"btn btn-warning mb-5\">Load More</button>\r\n            )\r\n        )\r\n    }\r\n\r\n    useEffect(()=> {\r\n        init();\r\n        loadFilteredResults(skip,limit, myFilters.filters)\r\n    }, []);\r\n\r\n    const handleFilters = (filters, filterBy) => {\r\n        // console.log(\"SHOP\", filters, filterBy)\r\n        const newFilters = {...myFilters}\r\n        newFilters.filters[filterBy] = filters;\r\n\r\n        if(filterBy === \"fees\"){\r\n            let priceValues = handlePrice(filters)\r\n            newFilters.filters[filterBy] = priceValues;\r\n        }\r\n\r\n        loadFilteredResults(myFilters.filters)\r\n        setMyFilters(newFilters)\r\n    };\r\n\r\n    const handlePrice = value => {\r\n        const data = fees;\r\n        let array = [];\r\n\r\n        for (let key in data){\r\n            if(data[key]._id === parseInt(value)){\r\n                array = data[key].array;\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n\r\n  \r\n    return (\r\n        <Layout \r\n            title=\"Shop Page\"\r\n            description=\"Purchase the membership of your favorite gym in the city\"\r\n            className=\"container-fluid\"\r\n        >\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-4\">\r\n                    <h4>Filter by Category</h4>\r\n                    <ul>\r\n                    <Checkbox \r\n                   categories={categories} \r\n                   handleFilters={filters=> handleFilters(filters, \"category\")}\r\n                   />\r\n                    </ul>\r\n                    <h4>Filter by Fees Range</h4>\r\n                    <div>\r\n                    <RadioBox \r\n                        fees={fees} \r\n                        handleFilters={filters=> handleFilters(filters, \"fees\")}\r\n                   />\r\n                    </div>\r\n                </div>\r\n                <div className = \"col-8\">\r\n                   <h2 className=\"md-4\">Services</h2>\r\n                   <div className=\"row\">\r\n                       {filteredResults.map((service,i) => (\r\n                           <div className=\"col-4 md-3\">\r\n                            <Card key={i}  service={service} />\r\n                        </div>   \r\n                       ))}\r\n                   </div>\r\n                   <hr/>\r\n                   {loadMoreButton()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\n\r\nexport default Shop","import { rest } from \"lodash\";\r\nimport React, { Component } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render = {(props) =>\r\n      isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{ pathname: \"/signin\", state: { from: props.location } }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default AdminRoute;","import { rest } from \"lodash\";\r\nimport React, { Component } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport {isAuthenticated} from \"./index\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuthenticated() ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{ pathname: \"/signin\", state: { from: props.location } }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default PrivateRoute;","\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getPurchaseHistory } from \"./apiUser\";\r\nimport moment from \"moment\";\r\n\r\nconst Dashboard = () => {\r\n    const [history, setHistory] = useState([]);\r\n\r\n    const {\r\n        user: { _id, name, email, role }\r\n    } = isAuthenticated();\r\n    const token = isAuthenticated().token;\r\n\r\n    const init = (userId, token) => {\r\n        getPurchaseHistory(userId, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setHistory(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(_id, token);\r\n    }, []);\r\n\r\n    const userLinks = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">User Links</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/cart\">\r\n                            My Cart\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to={`/profile/${_id}`}>\r\n                            Update Profile\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const userInfo = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">User Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">{name}</li>\r\n                    <li className=\"list-group-item\">{email}</li>\r\n                    <li className=\"list-group-item\">\r\n                        {role === 1 ? \"Admin\" : \"Registered User\"}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const purchaseHistory = history => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">Purchase history</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        {history.map((h, i) => {\r\n                            return (\r\n                                <div>\r\n                                    <hr />\r\n                                    {h.services.map((p, i) => {\r\n                                        return (\r\n                                            <div key={i}>\r\n                                                <h6>Service name: {p.name}</h6>\r\n                                                <h6>\r\n                                                    Service price: ${p.price}\r\n                                                </h6>\r\n                                                <h6>\r\n                                                    Purchased date:{\" \"}\r\n                                                    {moment(\r\n                                                        p.createdAt\r\n                                                    ).fromNow()}\r\n                                                </h6>\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Dashboard\"\r\n            description={`G'day ${name}!`}\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">{userLinks()}</div>\r\n                <div className=\"col-9\">\r\n                    {userInfo()}\r\n                    {purchaseHistory(history)}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Dashboard;","import { API } from \"../config\";\r\n\r\nexport const read = (userId, token) => {\r\n    return fetch(`${API}/user/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const update = (userId, token, user) => {\r\n    return fetch(`${API}/user/${userId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const updateUser = (user, next) => {\r\n    if (typeof window !== \"undefined\") {\r\n        if (localStorage.getItem(\"jwt\")) {\r\n            let auth = JSON.parse(localStorage.getItem(\"jwt\"));\r\n            auth.user = user;\r\n            localStorage.setItem(\"jwt\", JSON.stringify(auth));\r\n            next();\r\n        }\r\n    }\r\n};\r\n\r\nexport const getPurchaseHistory = (userId, token) => {\r\n    return fetch(`${API}/orders/by/user/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};","import React from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth\";\r\n\r\nconst AdminDashboard = () => {\r\n  const {\r\n    user: { _id, name, email, role },\r\n  } = isAuthenticated();\r\n\r\n  const adminLinks = () => {\r\n    return (\r\n      <div className=\"card\">\r\n        <h4 className=\"card-header\">Admin Links</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/create/category\">\r\n              Create Category\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/create/service\">\r\n              Create Service\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            {role === 1 ? \"Admin\" : \"Registered User\"}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const adminInfo = () => {\r\n    return (\r\n      <div className=\"card mb-5\">\r\n        <h3 className=\"card-header\">User Info </h3>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">{name}</li>\r\n          <li className=\"list-group-item\">{email}</li>\r\n          <li className=\"list-group-item\">\r\n            {role === 1 ? \"Admin\" : \"Registered User\"}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"AdminDashboard\"\r\n      description={`Good Day ${name}`}\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">{adminLinks()}</div>\r\n        <div className=\"col-9\">{adminInfo()}</div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n\r\n\r\n\r\n// import React from \"react\";\r\n// import Layout from \"../core/Layout\";\r\n// import { isAuthenticated } from \"../auth\";\r\n// import { Link } from \"react-router-dom\";\r\n\r\n// const AdminDashboard = () => {\r\n//     const {\r\n//         user: { _id, name, email, role }\r\n//     } = isAuthenticated();\r\n\r\n//     const adminLinks = () => {\r\n//         return (\r\n//             <div className=\"card\">\r\n//                 <h4 className=\"card-header\">Admin Links</h4>\r\n//                 <ul className=\"list-group\">\r\n//                     <li className=\"list-group-item\">\r\n//                         <Link className=\"nav-link\" to=\"/create/category\">\r\n//                             Create Category\r\n//                         </Link>\r\n//                     </li>\r\n//                     <li className=\"list-group-item\">\r\n//                         <Link className=\"nav-link\" to=\"/create/service\">\r\n//                             Create Service\r\n//                         </Link>\r\n//                     </li>\r\n//                     <li className=\"list-group-item\">\r\n//                         <Link className=\"nav-link\" to=\"/admin/orders\">\r\n//                             View Orders\r\n//                         </Link>\r\n//                     </li>\r\n//                     <li className=\"list-group-item\">\r\n//                         <Link className=\"nav-link\" to=\"/admin/services\">\r\n//                             Manage Service\r\n//                         </Link>\r\n//                     </li>\r\n//                 </ul>\r\n//             </div>\r\n//         );\r\n//     };\r\n\r\n//     const adminInfo = () => {\r\n//         return (\r\n//             <div className=\"card mb-5\">\r\n//                 <h3 className=\"card-header\">User Information</h3>\r\n//                 <ul className=\"list-group\">\r\n//                     <li className=\"list-group-item\">{name}</li>\r\n//                     <li className=\"list-group-item\">{email}</li>\r\n//                     <li className=\"list-group-item\">\r\n//                         {role === 1 ? \"Admin\" : \"Registered User\"}\r\n//                     </li>\r\n//                 </ul>\r\n//             </div>\r\n//         );\r\n//     };\r\n\r\n//     return (\r\n//         <Layout\r\n//             title=\"Dashboard\"\r\n//             description={`G'day ${name}!`}\r\n//             className=\"container-fluid\"\r\n//         >\r\n//             <div className=\"row\">\r\n//                 <div className=\"col-3\">{adminLinks()}</div>\r\n//                 <div className=\"col-9\">{adminInfo()}</div>\r\n//             </div>\r\n//         </Layout>\r\n//     );\r\n// };\r\n\r\n// export default AdminDashboard;","import React, { useState } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createCategory } from \"./apiAdmin\";\r\n\r\nconst AddCategory = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  // destructure user and token from localstorage\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const handleChange = (e) => {\r\n    setError(\"\");\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const clickSubmit = (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n    // make request to api to create category\r\n    createCategory(user._id, token, { name }).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setError(\"\");\r\n        setSuccess(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const newCategoryForm = () => (\r\n    <form onSubmit={clickSubmit}>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Category Name</label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n          value={name}\r\n          autoFocus\r\n          required\r\n        />\r\n      </div>\r\n      <button className=\"btn btn-outline-primary\">Create Category</button>\r\n    </form>\r\n  );\r\n\r\n  const showSuccess = () => {\r\n    if (success) {\r\n      return <h3 className=\"text-success\">{name} is created</h3>;\r\n    }\r\n  };\r\n\r\n  const showError = () => {\r\n    if (error) {\r\n      return <h3 className=\"text-danger\">Category should be unique</h3>;\r\n    }\r\n  };\r\n\r\n  const goBack = () => (\r\n    <div className=\"mt-5\">\r\n      <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n        Back to Dashboard\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Add a new category\"\r\n      description={`G'day ${user.name}, ready to add a new category?`}\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newCategoryForm()}\r\n          {goBack()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddCategory;","import { API } from \"../config\"\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n    return fetch(`${API}/category/create/${userId}`,{\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(category)\r\n    })\r\n\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const updateCategory = (categoryId, userId, token, category) => {\r\n    return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            // content type?\r\n            'Content-Type': 'application/json',\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(category)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\n\r\nexport const createService = (userId, token, service) => {\r\n    return fetch(`${API}/service/create/${userId}`,{\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: service\r\n    })\r\n\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method:\"GET\"\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n}\r\n\r\nexport const listOrders = (userId, token) => {\r\n    return fetch(`${API}/order/list/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getStatusValues = (userId, token) => {\r\n    return fetch(`${API}/order/status-values/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const updateOrderStatus = (userId, token, orderId, status) => {\r\n    return fetch(`${API}/order/${orderId}/status/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ status, orderId })\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createService, getCategories } from \"./apiAdmin\";\r\n\r\nconst AddService = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    fees: \"\",\r\n    categories: \"\",\r\n    category: [],\r\n    quantity: \"\",\r\n    city: \"\",\r\n    sold: \"\",\r\n    photo: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdService: \"\",\r\n    redirectToProfile: false,\r\n    formData: \"\",\r\n  });\r\n\r\n  const { user, token } = isAuthenticated();\r\n  const {\r\n    name,\r\n    description,\r\n    fees,\r\n    categories,\r\n    category,\r\n    quantity,\r\n    city,\r\n    sold,\r\n    photo,\r\n    loading,\r\n    error,\r\n    createdService,\r\n    redirectToProfile,\r\n    formData,\r\n  } = values;\r\n\r\n  // load categories & set form data\r\n  const init = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          categories: data,\r\n          formData: new FormData(),\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    createService(user._id, token, formData).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          description: \"\",\r\n          photo: \"\",\r\n          fees: \"\",\r\n          quantity: \"\",\r\n          loading: false,\r\n          createdService: data.name,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const newPostForm = () => (\r\n    <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n      <h4>Post Photo</h4>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-secondary\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image/*\"\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={name}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Description</label>\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          className=\"form-control\"\r\n          value={description}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Fees</label>\r\n        <input\r\n          onChange={handleChange(\"fees\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={fees}\r\n        />\r\n      </div>\r\n\r\n      {/* <div className=\"form-group\">\r\n        <label className=\"text-muted\">Category</label>\r\n        <select onChange={handleChange(\"category\")} className=\"form-control\">\r\n          <option>Please select</option>\r\n          {category &&\r\n            category.map((c, i) => (\r\n              <option key={i} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div> */}\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Category</label>\r\n        <select onChange={handleChange(\"category\")} className=\"form-control\">\r\n          <option>Please select</option>\r\n          {categories &&\r\n            categories.map((c, i) => (\r\n              <option key={i} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Quantity</label>\r\n        <input\r\n          onChange={handleChange(\"quantity\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={quantity}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">City</label>{\" \"}\r\n        <input\r\n          onChange={handleChange(\"city\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={city}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Sold</label>\r\n        <input\r\n          onChange={handleChange(\"sold\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={sold}\r\n        />\r\n      </div>\r\n\r\n      <button className=\"btn btn-outline-primary\">Create Service</button>\r\n    </form>\r\n  );\r\n\r\n  // const goBack = () => (\r\n  //   <div className=\"mt-5\">\r\n  //     <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n  //       Back to Dashboard\r\n  //     </Link>\r\n  //   </div>\r\n  // );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className=\"alert alert-info\"\r\n      style={{ display: createdService ? \"\" : \"none\" }}\r\n    >\r\n      <h2>{`${createdService}`} is created!</h2>\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className=\"alert alert-success\">\r\n        <h2>Loading...</h2>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Add a new service\"\r\n      description={`G'day ${user.name}, ready to add a new service?`}\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showLoading()}\r\n          {showSuccess()}\r\n          {showError()}\r\n          {/* {goBack()} */}\r\n          {newPostForm()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddService;","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport { read, listRelated } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\n\r\nconst Service = (props) => {\r\n  const [service, setService] = useState({});\r\n  const [relatedService, setRelatedService] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadSingleService = (serviceId) => {\r\n    read(serviceId).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setService(data);\r\n        // fetch related services\r\n        listRelated(data._id).then((data) => {\r\n          if (data.error) {\r\n            setError(data.error);\r\n          } else {\r\n            setRelatedService(data);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const serviceId = props.match.params.serviceId;\r\n    loadSingleService(serviceId);\r\n  }, [props]);\r\n\r\n  return (\r\n    <Layout\r\n      title={service && service.name}\r\n      description={\r\n        service && service.description && service.description.substring(0, 100)\r\n      }\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-8\">\r\n          {service && service.description && (\r\n            <Card service={service} showViewServiceButton={false} />\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"col-4\">\r\n          <h4>Related services</h4>\r\n          {relatedService.map((p, i) => (\r\n            <div className=\"mb-3\" key={i}>\r\n              <Card service={p} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Service;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { getServices, getBraintreeClientToken, processPayment, createOrder } from './apiCore';\r\nimport { emptyCart } from './cardHelper';\r\nimport Card from './Card';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\n\r\nconst Checkout = ({ services, setRun = f => f, run = undefined }) => {\r\n    const [data, setData] = useState({\r\n        loading: false,\r\n        success: false,\r\n        clientToken: null,\r\n        error: '',\r\n        instance: {},\r\n        address: ''\r\n    });\r\n\r\n    const userId = isAuthenticated() && isAuthenticated().user._id;\r\n    const token = isAuthenticated() && isAuthenticated().token;\r\n\r\n    const getToken = (userId, token) => {\r\n        getBraintreeClientToken(userId, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n                setData({ ...data, error: data.error });\r\n            } else {\r\n                console.log(data);\r\n                setData({ clientToken: data.clientToken });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        getToken(userId, token);\r\n    }, []);\r\n\r\n    const handleAddress = event => {\r\n        setData({ ...data, address: event.target.value });\r\n    };\r\n\r\n    const getTotal = () => {\r\n        return services.reduce((currentValue, nextValue) => {\r\n            return currentValue + nextValue.count * nextValue.price;\r\n        }, 0);\r\n    };\r\n\r\n    const showCheckout = () => {\r\n        return isAuthenticated() ? (\r\n            <div>{showDropIn()}</div>\r\n        ) : (\r\n            <Link to=\"/signin\">\r\n                <button className=\"btn btn-primary\">Sign in to checkout</button>\r\n            </Link>\r\n        );\r\n    };\r\n\r\n    let deliveryAddress = data.address;\r\n\r\n    const buy = () => {\r\n        setData({ loading: true });\r\n        // send the nonce to your server\r\n        // nonce = data.instance.requestPaymentMethod()\r\n        let nonce;\r\n        let getNonce = data.instance\r\n            .requestPaymentMethod()\r\n            .then(data => {\r\n                // console.log(data);\r\n                nonce = data.nonce;\r\n                // once you have nonce (card type, card number) send nonce as 'paymentMethodNonce'\r\n                // and also total to be charged\r\n                // console.log(\r\n                //     \"send nonce and total to process: \",\r\n                //     nonce,\r\n                //     getTotal(services)\r\n                // );\r\n                const paymentData = {\r\n                    paymentMethodNonce: nonce,\r\n                    amount: getTotal(services)\r\n                };\r\n\r\n                processPayment(userId, token, paymentData)\r\n                    .then(response => {\r\n                        console.log(response);\r\n                        // empty cart\r\n                        // create order\r\n\r\n                        const createOrderData = {\r\n                            services: services,\r\n                            transaction_id: response.transaction.id,\r\n                            amount: response.transaction.amount,\r\n                            address: deliveryAddress\r\n                        };\r\n\r\n                        createOrder(userId, token, createOrderData)\r\n                            .then(response => {\r\n                                emptyCart(() => {\r\n                                    setRun(!run); // run useEffect in parent Cart\r\n                                    console.log('payment success and empty cart');\r\n                                    setData({\r\n                                        loading: false,\r\n                                        success: true\r\n                                    });\r\n                                });\r\n                            })\r\n                            .catch(error => {\r\n                                console.log(error);\r\n                                setData({ loading: false });\r\n                            });\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                        setData({ loading: false });\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                // console.log(\"dropin error: \", error);\r\n                setData({ ...data, error: error.message });\r\n            });\r\n    };\r\n\r\n    const showDropIn = () => (\r\n        <div onBlur={() => setData({ ...data, error: '' })}>\r\n            {data.clientToken !== null && services.length > 0 ? (\r\n                <div>\r\n                    <div className=\"gorm-group mb-3\">\r\n                        <label className=\"text-muted\">Delivery address:</label>\r\n                        <textarea\r\n                            onChange={handleAddress}\r\n                            className=\"form-control\"\r\n                            value={data.address}\r\n                            placeholder=\"Type your delivery address here...\"\r\n                        />\r\n                    </div>\r\n\r\n                    <DropIn\r\n                        options={{\r\n                            authorization: data.clientToken,\r\n                            paypal: {\r\n                                flow: 'vault'\r\n                            }\r\n                        }}\r\n                        onInstance={instance => (data.instance = instance)}\r\n                    />\r\n                    <button onClick={buy} className=\"btn btn-success btn-block\">\r\n                        Pay\r\n                    </button>\r\n                </div>\r\n            ) : null}\r\n        </div>\r\n    );\r\n\r\n    const showError = error => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = success => (\r\n        <div className=\"alert alert-info\" style={{ display: success ? '' : 'none' }}>\r\n            Thanks! Your payment was successful!\r\n        </div>\r\n    );\r\n\r\n    const showLoading = loading => loading && <h2 className=\"text-danger\">Loading...</h2>;\r\n\r\n    return (\r\n        <div>\r\n            <h2>Total: ₹{getTotal()}</h2>\r\n            {showLoading(data.loading)}\r\n            {showSuccess(data.success)}\r\n            {showError(data.error)}\r\n            {showCheckout()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Checkout;","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Layout from './Layout';\r\nimport { getCart } from './cardHelper';\r\nimport Card from './Card';\r\nimport Checkout from './Checkout';\r\n\r\nconst Cart = () => {\r\n    const [items, setItems] = useState([]);\r\n    const [run, setRun] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setItems(getCart());\r\n    }, [run]);\r\n\r\n    const showItems = items => {\r\n        return (\r\n            <div>\r\n                <h2>Your cart has {`${items.length}`} items</h2>\r\n                <hr />\r\n                {items.map((service, i) => (\r\n                    <Card\r\n                        key={i}\r\n                        service={service}\r\n                        showAddToCartButton={false}\r\n                        cartUpdate={true}\r\n                        showRemoveServiceButton={true}\r\n                        setRun={setRun}\r\n                        run={run}\r\n                    />\r\n                ))}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const noItemsMessage = () => (\r\n        <h2>\r\n            Your cart is empty. <br /> <Link to=\"/shop\">Continue shopping</Link>\r\n        </h2>\r\n    );\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Gym Cart\"\r\n            description=\"Manage your cart items. Add remove checkout or continue Gym.\"\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-6\">{items.length > 0 ? showItems(items) : noItemsMessage()}</div>\r\n\r\n                <div className=\"col-6\">\r\n                    <h2 className=\"mb-4\">Summary</h2>\r\n                    <hr />\r\n                    <Checkout services={items} setRun={setRun} run={run} />\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Cart;","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { read, update, updateUser } from './apiUser';\r\n\r\nconst Profile = ({ match }) => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        error: false,\r\n        success: false\r\n    });\r\n\r\n    const { token } = isAuthenticated();\r\n    const { name, email, password, error, success } = values;\r\n\r\n    const init = userId => {\r\n        // console.log(userId);\r\n        read(userId, token).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: true });\r\n            } else {\r\n                setValues({ ...values, name: data.name, email: data.email });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(match.params.userId);\r\n    }, []);\r\n\r\n    const handleChange = name => e => {\r\n        setValues({ ...values, error: false, [name]: e.target.value });\r\n    };\r\n\r\n    const clickSubmit = e => {\r\n        e.preventDefault();\r\n        update(match.params.userId, token, { name, email, password }).then(data => {\r\n            if (data.error) {\r\n                // console.log(data.error);\r\n                alert(data.error);\r\n            } else {\r\n                updateUser(data, () => {\r\n                    setValues({\r\n                        ...values,\r\n                        name: data.name,\r\n                        email: data.email,\r\n                        success: true\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const redirectUser = success => {\r\n        if (success) {\r\n            return <Redirect to=\"/cart\" />;\r\n        }\r\n    };\r\n\r\n    const profileUpdate = (name, email, password) => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input type=\"text\" onChange={handleChange('name')} className=\"form-control\" value={name} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input type=\"email\" onChange={handleChange('email')} className=\"form-control\" value={email} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input type=\"password\" onChange={handleChange('password')} className=\"form-control\" value={password} />\r\n            </div>\r\n\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n                Submit\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <Layout title=\"Profile\" description=\"Update your profile\" className=\"container-fluid\">\r\n            <h2 className=\"mb-4\">Profile update</h2>\r\n            {profileUpdate(name, email, password)}\r\n            {redirectUser(success)}\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\r\nimport Signin from './user/Signin'\r\nimport Signup from './user/Signup'\r\nimport Home from './core/Home';\r\nimport Shop from './core/Shop';\r\nimport AdminRoute from './auth/AdminRoute';\r\nimport PrivateRoute from './auth/PrivateRoute';\r\nimport Dashboard from './user/UserDashboard';\r\nimport AdminDashboard from './user/AdminDashboard';\r\nimport AddCategory from './admin/AddCategory';\r\nimport AddService from \"./admin/AddService\";\r\nimport Service from \"./core/Service\"\r\nimport Cart from \"./core/Cart\";\r\nimport Orders from './admin/Orders';\r\nimport Profile from './user/Profile';\r\n\r\nconst Routes = () => {\r\n    return(\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route path=\"/\" exact component={Home} />\r\n                <Route path=\"/shop\" exact component={Shop} />\r\n                <Route path=\"/service/:serviceId\" exact component={Service} />\r\n                <Route path=\"/signin\" exact component={Signin} />\r\n                <Route path=\"/signup\" exact component={Signup} />\r\n                <PrivateRoute path=\"/user/dashboard\" exact component={Dashboard} />\r\n                <AdminRoute path=\"/create/category\" exact component={AddCategory} />\r\n                <AdminRoute path=\"/create/service\" exact component={AddService} />\r\n                <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\r\n                {/* <AdminRoute path=\"/admin/orders\" exact component={Orders} /> */}\r\n                <PrivateRoute path=\"/profile/:userId\" exact component={Profile} />\r\n                <Route path=\"/cart\" exact component={Cart} />\r\n            </Switch>\r\n        </BrowserRouter>\r\n    );\r\n};\r\n\r\nexport default Routes;\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Routes from './Routes';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Routes />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}